using System;
using System.Threading.Tasks;
using ApiClientLib;

namespace RestServiceApp
{
    public class CallRestService
    {
        public static async Task<int> CallApi()
        {
            var restService = new RestService("https://api.yourserver.com");

            // ✅ Call WITH certificate
            var responseWithCert = await restService.GetResponseFromNewAPIAsync(useCertificate: true);

            // ✅ Call WITHOUT certificate
            var responseWithoutCert = await restService.GetResponseFromNewAPIAsync(useCertificate: false);

            Console.WriteLine("Response (with cert):");
            Console.WriteLine(responseWithCert);

            Console.WriteLine("\nResponse (without cert):");
            Console.WriteLine(responseWithoutCert);

            return 0;
        }
    }
}
