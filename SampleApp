samples


public async Task UpdateTranCodeInLogDetailsTableAsync(List<TranCodesTemp> tranCodesList)
{
    try
    {
        Mouse.OverrideCursor = Cursors.Wait;
        using var dbContext = new OpenSQLiteDatabase().OpenDbContext();

        var allLogs = await dbContext.LogDetails
            .Where(e => !string.IsNullOrEmpty(e.AccessNumber) && !string.IsNullOrEmpty(e.AccountNumber))
            .ToListAsync();

        foreach (var log in allLogs)
        {
            var tranCode = tranCodesList.FirstOrDefault(c => c.LogId == log.LogId);
            if (tranCode != null)
                log.TranCode = tranCode.TranCode;
        }

        await dbContext.SaveChangesAsync(); // âœ… One DB roundtrip
    }
    catch (Exception ex)
    {
        MessageBox.Show($"Error updating tran codes: {ex.Message}");
    }
    finally
    {
        Mouse.OverrideCursor = null;
    }
}


