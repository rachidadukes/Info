public class ExtractAccountNumber
{
    public List<AccountModel> ExtractAccountAndType(List<RequestResponseLogModel> requestResponseList)
    {
        var accountList = new List<AccountModel>();

        try
        {
            foreach (var item in requestResponseList)
            {
                string request = item.Request;

                // Extract AcctId
                var acctId = ExtractTagValue(request, "AcctId");
                var acctType = ExtractTagValue(request, "AcctType");

                if (!string.IsNullOrEmpty(acctId) && !string.IsNullOrEmpty(acctType))
                {
                    accountList.Add(new AccountModel
                    {
                        AcctId = acctId,
                        AcctType = acctType
                    });
                }
            }

            return accountList;
        }
        catch (Exception ex)
        {
            Console.WriteLine($"‚ùó Unexpected Error in Data: {ex.Message}");
            return new List<AccountModel>();
        }
    }

    private string ExtractTagValue(string input, string tagName)
    {
        var startTag = $"<{tagName}>";
        var endTag = $"</{tagName}>";

        var startIndex = input.IndexOf(startTag);
        var endIndex = input.IndexOf(endTag);

        if (startIndex >= 0 && endIndex > startIndex)
        {
            startIndex += startTag.Length;
            return input.Substring(startIndex, endIndex - startIndex).Trim();
        }

        return string.Empty;
    }
}
