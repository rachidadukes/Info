try
{
    var selectedAccessNum = selectedAcctAccessNumber.AccessNumber;
    var selectedAcct      = Normalize(selectedAcctAccessNumber.AccountNumber);
    var envir             = selectedAcctAccessNumber.Environment;

    var memberProfile = await _memberProfileRepository.GetMemberProfileAsync(envir, selectedAccessNum);

    if (memberProfile?.Data == null || memberProfile.IsSuccess == false)
    {
        MessageBox.Show($"Failed to retrieve member profile: {memberProfile?.ErrorMessage}", "Error", MessageBoxButton.OK);
        return;
    }

    var accounts = memberProfile.Data.ProfileAccts ?? new List<AcctProfileDTO>();
    if (accounts.Count == 0) return;

    foreach (var acct in accounts)
        acct.AccountNumber = Normalize(acct.AccountNumber);

    var acctFound = accounts.FirstOrDefault(e => e.AccountNumber == selectedAcct);
    if (acctFound != null)
        await SaveCurrentBalanceAndStatus(selectedAccessNum, envir, acctFound);
}
catch (Exception ex)
{
    Console.WriteLine($"Error in RetrieveMembersProfile: {ex.Message}");
}

private static string Normalize(string? value)
{
    if (string.IsNullOrEmpty(value)) return "0"; // or: return value;
    var norm = value.TrimStart('0');
    return norm.Length == 0 ? "0" : norm;
}
